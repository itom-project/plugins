
macro(itom_plugin_option PLUGIN_ID)

    set(PLUGINS_LIST    # Legend: X = OFF, D = Default, S = Setup, T = Test
    "+-------------------------------+-------------------------+"
    "| **Plugin**                    |  Win  | macOS |  Linux  |"
    "+===============================+=========================+"
    "| PLUGIN_LIBUSB                 |   D   |   D   |    D    |"
    "+-------------------------------+-------------------------+"
    "| PLUGIN_aerotechA3200          |   S   |   X   |    X    |"
    "+-------------------------------+-------------------------+"
    "| PLUGIN_aerotechEnsemble       |   X   |   X   |    X    |"
    "+-------------------------------+-------------------------+"
    "| PLUGIN_andorSDK3              |   S   |   X   |    X    |"
    "+-------------------------------+-------------------------+"
    "| PLUGIN_AvantesAvaSpec         |   D   |   D   |    D    |"
    "+-------------------------------+-------------------------+"
    "| PLUGIN_AVTVimba               |   S   |   X   |    X    |"
    "+-------------------------------+-------------------------+"
    "| PLUGIN_BasicFilters           |   D   |   D   |    D    |"
    "+-------------------------------+-------------------------+"
    "| PLUGIN_BasicGPLFilters        |   D   |   D   |    D    |"
    "+-------------------------------+-------------------------+"
    "| PLUGIN_HidApi                 |   D   |   D   |    D    |"
    "+-------------------------------+-------------------------+"
    "| PLUGIN_cmu1394                |   S   |   X   |    X    |"
    "+-------------------------------+-------------------------+"
    "| PLUGIN_CommonVisionBlox       |   S   |   X   |    X    |"
    "+-------------------------------+-------------------------+"
    "| PLUGIN_CyUSB                  |   S   |   X   |    X    |"
    "+-------------------------------+-------------------------+"
    "| PLUGIN_dataobjectarithmetic   |   D   |   D   |    D    |"
    "+-------------------------------+-------------------------+"
    "| PLUGIN_DataObjectIO           |   D   |   D   |    D    |"
    "+-------------------------------+-------------------------+"
    "| PLUGIN_DIC                    |   S   |   X   |    X    |"
    "+-------------------------------+-------------------------+"
    "| PLUGIN_dispWindow             |   S   |   X   |    X    |"
    "+-------------------------------+-------------------------+"
    "| PLUGIN_DslrRemote             |   T   |   X   |    X    |"
    "+-------------------------------+-------------------------+"
    "| PLUGIN_DslrRemote2            |   T   |   X   |    X    |"
    "+-------------------------------+-------------------------+"
    "| PLUGIN_DummyGrabber           |   D   |   D   |    D    |"
    "+-------------------------------+-------------------------+"
    "| PLUGIN_DummyMotor             |   D   |   D   |    D    |"
    "+-------------------------------+-------------------------+"
    "| PLUGIN_DemoAlgorithms         |   S   |   X   |    X    |"
    "+-------------------------------+-------------------------+"
    "| PLUGIN_FFTWFilters            |   S   |   X   |    X    |"
    "+-------------------------------+-------------------------+"
    "| PLUGIN_FileGrabber            |   D   |   D   |    D    |"
    "+-------------------------------+-------------------------+"
    "| PLUGIN_FittingFilters         |   D   |   D   |    D    |"
    "+-------------------------------+-------------------------+"
    "| PLUGIN_FireGrabber            |   D   |   D   |    D    |"
    "+-------------------------------+-------------------------+"
    "| PLUGIN_FirgelliLAC            |   S   |   X   |    X    |"
    "+-------------------------------+-------------------------+"
    "| PLUGIN_FringeProj             |   S   |   X   |    X    |"
    "+-------------------------------+-------------------------+"
    "| PLUGIN_GenICam                |   S   |   X   |    X    |"
    "+-------------------------------+-------------------------+"
    "| PLUGIN_GLDisplay              |   S   |   X   |    X    |"
    "+-------------------------------+-------------------------+"
    "| PLUGIN_GWInstekPSP            |   S   |   X   |    X    |"
    "+-------------------------------+-------------------------+"
    "| PLUGIN_HBMSpider8             |   S   |   X   |    X    |"
    "+-------------------------------+-------------------------+"
    "| PLUGIN_Holography             |   T   |   X   |    X    |"
    "+-------------------------------+-------------------------+"
    "| PLUGIN_IDSuEye                |   S   |   X   |    X    |"
    "+-------------------------------+-------------------------+"
    "| PLUGIN_LeicaMotorFocus        |   S   |   X   |    X    |"
    "+-------------------------------+-------------------------+"
    "| PLUGIN_LibModbus              |   S   |   X   |    X    |"
    "+-------------------------------+-------------------------+"
    "| PLUGIN_MeasurementComputing   |   S   |   X   |    X    |"
    "+-------------------------------+-------------------------+"
    "| PLUGIN_MSMediaFoundation      |   D   |   X   |    X    |"
    "+-------------------------------+-------------------------+"
    "| PLUGIN_NerianSceneScanPro     |   S   |   X   |    X    |"
    "+-------------------------------+-------------------------+"
    "| PLUGIN_MyCobot280Pi           |   D   |   X   |    X    |"
    "+-------------------------------+-------------------------+"
    "| PLUGIN_NanotecStepMotor       |   D   |   X   |    X    |"
    "+-------------------------------+-------------------------+"
    "| PLUGIN_NEWPORT_2936           |   S   |   X   |    X    |"
    "+-------------------------------+-------------------------+"
    "| PLUGIN_NEWPORT_CONEXLDS       |   S   |   X   |    X    |"
    "+-------------------------------+-------------------------+"
    "| PLUGIN_NEWPORT_SMC100         |   S   |   X   |    X    |"
    "+-------------------------------+-------------------------+"
    "| PLUGIN_niDAQmx                |   S   |   X   |    X    |"
    "+-------------------------------+-------------------------+"
    "| PLUGIN_NITWidySWIR            |   S   |   X   |    X    |"
    "+-------------------------------+-------------------------+"
    "| PLUGIN_OceanOpticsSpec        |   D   |   D   |    D    |"
    "+-------------------------------+-------------------------+"
    "| PLUGIN_OpenCVFilters          |   D   |   D   |    D    |"
    "+-------------------------------+-------------------------+"
    "| PLUGIN_OpenCVFilters_Nonfree  |   T   |   X   |    X    |"
    "+-------------------------------+-------------------------+"
    "| PLUGIN_OpenCVGrabber          |   D   |   D   |    D    |"
    "+-------------------------------+-------------------------+"
    "| PLUGIN_OphirPowermeter        |   S   |   X   |    X    |"
    "+-------------------------------+-------------------------+"
    "| PLUGIN_PclTools               |   D   |   D   |    D    |"
    "+-------------------------------+-------------------------+"
    "| PLUGIN_PCOCamera              |   S   |   X   |    X    |"
    "+-------------------------------+-------------------------+"
    "| PLUGIN_PCOPixelFly            |   S   |   X   |    X    |"
    "+-------------------------------+-------------------------+"
    "| PLUGIN_PiezosystemJena_NV40_1 |   S   |   X   |    X    |"
    "+-------------------------------+-------------------------+"
    "| PLUGIN_PGRFlyCapture          |   S   |   X   |    X    |"
    "+-------------------------------+-------------------------+"
    "| PLUGIN_PIHexapodCtrl          |   S   |   X   |    X    |"
    "+-------------------------------+-------------------------+"
    "| PLUGIN_PIPiezoCtrl            |   S   |   X   |    X    |"
    "+-------------------------------+-------------------------+"
    "| PLUGIN_PI_GCS2                |   S   |   X   |    X    |"
    "+-------------------------------+-------------------------+"
    "| PLUGIN_PMD_PICO               |   S   |   X   |    X    |"
    "+-------------------------------+-------------------------+"
    "| PLUGIN_QuantumComposer        |   D   |   X   |    X    |"
    "+-------------------------------+-------------------------+"
    "| PLUGIN_rawImport              |   D   |   D   |    D    |"
    "+-------------------------------+-------------------------+"
    "| PLUGIN_ROS2Bridge             |   X   |   X   |    D    |"
    "+-------------------------------+-------------------------+"
    "| PLUGIN_Roughness              |   D   |   D   |    D    |"
    "+-------------------------------+-------------------------+"
    "| PLUGIN_SerialIO               |   D   |   D   |    D    |"
    "+-------------------------------+-------------------------+"
    "| PLUGIN_SuperlumBS             |   S   |   X   |    X    |"
    "+-------------------------------+-------------------------+"
    "| PLUGIN_SuperlumBL             |   S   |   X   |    X    |"
    "+-------------------------------+-------------------------+"
    "| PLUGIN_ST8SMC4USB             |   S   |   X   |    X    |"
    "+-------------------------------+-------------------------+"
    "| PLUGIN_ThorlabsBP             |   S   |   X   |    X    |"
    "+-------------------------------+-------------------------+"
    "| PLUGIN_ThorlabsBDCServo       |   S   |   X   |    X    |"
    "+-------------------------------+-------------------------+"
    "| PLUGIN_ThorlabsFF             |   S   |   X   |    X    |"
    "+-------------------------------+-------------------------+"
    "| PLUGIN_ThorlabsTCubeTEC       |   S   |   X   |    X    |"
    "+-------------------------------+-------------------------+"
    "| PLUGIN_ThorlabsKCubeDCServo   |   S   |   X   |    X    |"
    "+-------------------------------+-------------------------+"
    "| PLUGIN_ThorlabsKCubeIM        |   S   |   X   |    X    |"
    "+-------------------------------+-------------------------+"
    "| PLUGIN_ThorlabsKCubePA        |   S   |   X   |    X    |"
    "+-------------------------------+-------------------------+"
    "| PLUGIN_ThorlabsCCS            |   S   |   X   |    X    |"
    "+-------------------------------+-------------------------+"
    "| PLUGIN_ThorlabsISM            |   S   |   X   |    X    |"
    "+-------------------------------+-------------------------+"
    "| PLUGIN_ThorlabsDCxCam         |   T   |   X   |    X    |"
    "+-------------------------------+-------------------------+"
    "| PLUGIN_ThorlabsPowerMeter     |   S   |   X   |    X    |"
    "+-------------------------------+-------------------------+"
    "| PLUGIN_UhlRegister            |   D   |   D   |    D    |"
    "+-------------------------------+-------------------------+"
    "| PLUGIN_UhlText                |   D   |   D   |    D    |"
    "+-------------------------------+-------------------------+"
    "| PLUGIN_V4L2                   |   X   |   X   |    T    |"
    "+-------------------------------+-------------------------+"
    "| PLUGIN_Vistek                 |   S   |   X   |    X    |"
    "+-------------------------------+-------------------------+"
    "| PLUGIN_VRMagic                |   S   |   X   |    X    |"
    "+-------------------------------+-------------------------+"
    "| PLUGIN_x3pio                  |   S   |   X   |    X    |"
    "+-------------------------------+-------------------------+"
    "| PLUGIN_Xeneth                 |   S   |   X   |    X    |"
    "+-------------------------------+-------------------------+"
    "| PLUGIN_XIMEA                  |   S   |   X   |    X    |"
)

    set(PATTERN "${PLUGIN_ID}.*$")

    # get column index
    if(WIN32)
        set(INDEX 1)
    elseif(APPLE)
        set(INDEX 2)
    elseif(UNIX)
        set(INDEX 3)
    endif(WIN32)

    foreach(PLUGIN_ROW ${PLUGINS_LIST})
        # get row
        string(REGEX MATCH ${PATTERN} MATCHSTRING ${PLUGIN_ROW})
        if(MATCHSTRING)

            string(REPLACE "|" ";" SPLIT_LIST "${MATCHSTRING}")
            list(GET SPLIT_LIST ${INDEX} ELEMENT)
            string(STRIP "${ELEMENT}" VALUE)

            # case DEFAULT
            if(PLUGIN_BUILD_OPTION STREQUAL "default" AND VALUE STREQUAL "D")
                option(${PLUGIN_ID} "Build with this plugin." ON)
            # case SETUP
            elseif(PLUGIN_BUILD_OPTION STREQUAL "setup" AND (VALUE STREQUAL "D" OR VALUE STREQUAL "S"))
                option(${PLUGIN_ID} "Build with this plugin." ON)
                SET(${PLUGIN_ID} ON CACHE BOOL "Build with this plugin." FORCE)
            # case TEST
            elseif(PLUGIN_BUILD_OPTION STREQUAL "test" AND (VALUE STREQUAL "D" OR VALUE STREQUAL "S" OR VALUE STREQUAL "T"))
                option(${PLUGIN_ID} "Build with this plugin." ON)
                SET(${PLUGIN_ID} ON CACHE BOOL "Build with this plugin." FORCE)
            else()
                option(${PLUGIN_ID} "Build with this plugin." OFF)
            endif()
        endif(MATCHSTRING)
    endforeach()
endmacro()